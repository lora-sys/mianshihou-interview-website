#!/usr/bin/env sh
cd mianshihou/apps/api

echo "ğŸ§ª è¿è¡Œå•å…ƒæµ‹è¯•..."
bun test tests/unit

if [ $? -ne 0 ]; then
  echo "âŒ å•å…ƒæµ‹è¯•å¤±è´¥ï¼Œè¯·ä¿®å¤åå†æäº¤"
  exit 1
fi

echo "âœ… å•å…ƒæµ‹è¯•é€šè¿‡"

echo "âœ¨ æ£€æŸ¥æš‚å­˜æ–‡ä»¶..."
bunx lint-staged

if [ $? -ne 0 ]; then
  echo "âŒ ä»£ç æ£€æŸ¥å¤±è´¥ï¼Œè¯·ä¿®å¤åå†æäº¤"
  exit 1
fi

echo "âœ… ä»£ç æ£€æŸ¥é€šè¿‡"