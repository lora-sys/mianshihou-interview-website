# 面试猴 (Mianshihou) 下一步演进计划

本文档规划了项目的下一阶段演进路线，重点在于增强智能化体验、优化工程架构以及完善搜索能力。

## 📅 阶段一：工程架构标准化与性能优化 (Current)

目标：建立可复用的前后端开发模版，优化现有代码的可维护性和性能。

- [x] **后端模版 (Fastify + tRPC + Drizzle)**
  - 标准化 Service/Router 分层。
  - 统一错误处理与输入验证规范。
  - 完善单元测试与集成测试覆盖。
- [x] **前端模版 (Next.js App Router)**
  - 明确 Server/Client Component 边界。
  - 实施流式渲染 (Streaming) 与骨架屏 (Skeleton) 策略。
  - 建立文案与 UX 设计规范。
- [ ] **性能深度优化**
  - 实施 `use cache` (Next.js 15+) 页面级缓存策略。
  - 优化数据获取瀑布流 (Waterfall)，并行化请求。
  - 引入 PWA 支持（离线访问能力）。

## 📅 阶段二：搜索能力升级 (Search 2.0)

目标：从简单的数据库模糊查询升级为高性能全文检索。

- [ ] **引入全文搜索引擎**
  - 方案 A: **Meilisearch** (推荐，轻量、易用、Rust编写)。
  - 方案 B: **Elasticsearch** (功能强大但运维重)。
  - 方案 C: **PostgreSQL Full Text Search** (最低成本，基于现有架构)。
- [ ] **搜索功能增强**
  - 支持拼写纠错 (Typo tolerance)。
  - 增加筛选器 (Filter) 和分面搜索 (Faceting)（按标签、难度、题库筛选）。
  - 搜索关键词高亮。
  - 搜索历史与热门搜索推荐。

## 📅 阶段三：AI 智能化集成 (AI Agent)

目标：打造"面试智能体"，从单纯的题库查询转变为智能面试辅导。

### 1. 全局 AI 助手 (Copilot)

- **形态**: 页面右下角悬浮按钮，点击弹出对话框 (按需加载，不影响首屏性能)。
- **功能**:
  - "这道题太难了，给我一些提示"
  - "帮我解释一下这个概念"
  - "基于当前浏览的题目推荐相关题目"

### 2. 模拟面试对话 (Mock Interview)

- **形态**: 独立的沉浸式对话界面 (`/ai-interview`)。
- **流程**:
  1. 用户选择技术栈/难度。
  2. AI 面试官出题。
  3. 用户输入/语音回答。
  4. AI 实时反馈评价与打分。

### 3. 智能推荐系统 (RAG)

- **技术**: 向量数据库 (pgvector / Chroma) + LLM。
- **机制**: 将所有题目向量化，根据用户简历或历史行为推荐最适合的题目。

## 📅 阶段四：社区与生态

- [ ] **用户贡献机制**: 允许用户提交题目与题解，引入审核流。
- [ ] **每日一题**: 自动化推送订阅。

---

## 🛠 技术选型预演

- **AI SDK**: Vercel AI SDK (统一接口，支持 OpenAI/Anthropic/Mistral)。
- **Vector DB**: Supabase pgvector (复用现有 PG)。
- **Search**: Meilisearch (Docker 部署)。
